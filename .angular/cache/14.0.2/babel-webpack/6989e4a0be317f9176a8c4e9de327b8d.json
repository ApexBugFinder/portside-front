{"ast":null,"code":"import { select } from '@ngrx/store';\nimport { AddEducationComponent } from 'src/app/education/add-education/add-education.component';\nimport { EditCertificationShellComponent } from 'src/app/education/certificatn-shell/edit-certification-shell/edit-certification-shell.component';\nimport { EditDegreeShellComponent } from 'src/app/education/degree-shell/edit-degree-shell/edit-degree-shell.component';\nimport { MakeGuid } from 'src/app/helpers/make-guid';\nimport * as certificationShellActions from '../../education/certificatn-shell/state/certification-shell.actions';\nimport * as fromCertificaitonData from '../../education/Models/certification/state';\nimport * as degreeShellActions from '../../education/degree-shell/state/degree-shell.actions';\nimport * as fromDegreeData from '../../education/Models/degree/state';\nimport * as fromShared from '../../shared/state';\nimport * as fromAuth from '../../auth/state';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@ngrx/store\";\n\nfunction EducationComponent_app_action_buttons_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-action-buttons\", 6);\n    i0.ɵɵlistener(\"addClassSignal\", function EducationComponent_app_action_buttons_3_Template_app_action_buttons_addClassSignal_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.createEducation());\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"myClass\", ctx_r0.pageClass);\n  }\n}\n\nfunction EducationComponent_app_degree_shell_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-degree-shell\");\n  }\n}\n\nfunction EducationComponent_app_certificatn_shell_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-certificatn-shell\");\n  }\n}\n\nexport let EducationComponent = /*#__PURE__*/(() => {\n  class EducationComponent {\n    constructor(dialog, authStore, degreeShellStore, sharedStore, certificationDataStore, degreeDataStore, certificationShellStore) {\n      this.dialog = dialog;\n      this.authStore = authStore;\n      this.degreeShellStore = degreeShellStore;\n      this.sharedStore = sharedStore;\n      this.certificationDataStore = certificationDataStore;\n      this.degreeDataStore = degreeDataStore;\n      this.certificationShellStore = certificationShellStore;\n      this.pageClass = \"Education\";\n      this.isMobileScreen = false;\n      this.userID$ = this.sharedStore.pipe(select(fromShared.getUserId));\n      this.authenticatedUserID$ = this.authStore.pipe(select(fromAuth.getAuthenticatedUserId));\n      this.isAuthenticated$ = this.authStore.pipe(select(fromAuth.getIsAuthenticated));\n      this.certificationDataTotal$ = this.certificationDataStore.pipe(select(fromCertificaitonData.selectCertificationsTotal));\n      this.degreeDataTotal$ = this.degreeDataStore.pipe(select(fromDegreeData.selectDegreesTotal));\n      this.loggedInMenuOpen$ = this.sharedStore.pipe(select(fromShared.getSideMenuState));\n    }\n\n    ngOnInit() {\n      let windWidth = window.innerWidth;\n      this.userID$.subscribe({\n        next: value => {\n          if (value) {\n            this.userID = value;\n            this.degreeShellStore.dispatch(new degreeShellActions.LoadDegreesByProjectCreatorIDFromDB(this.userID));\n            this.certificationShellStore.dispatch(new certificationShellActions.LoadCertificationsByProjectCreatorIDFromDB(this.userID));\n          }\n        },\n        error: err => console.log('OOps sorry, error occured getting the user\\'s ID from Shared State store in Education component:', err),\n        complete: () => console.log('Completed getting user\\'s ID ngrx Shared State store in Education component')\n      });\n    }\n\n    createEducation() {\n      const dialogRef = this.dialog.open(AddEducationComponent, {\n        panelClass: 'custom-modalbox2'\n      });\n      dialogRef.afterClosed().subscribe(result => {\n        console.log('result returned from dialog is: ', result);\n\n        if (result === 'certification') {\n          // Create new  Cert\n          let newCert = {\n            id: new MakeGuid().id.toString(),\n            projectCreatorID: this.userID,\n            certID: '',\n            certName: 'Certificaiton',\n            isActive: true,\n            issuingBody_Name: '',\n            issuingBody_Logo: '',\n            issuedDate: new Date()\n          };\n          this.certificationShellStore.dispatch(new certificationShellActions.SetCurrentCertificationFromEducationCPT(newCert));\n          this.certificationShellStore.dispatch(new certificationShellActions.SaveCertificationToDB(newCert));\n          const dialogRef2 = this.dialog.open(EditCertificationShellComponent, {\n            panelClass: 'custom-modalbox2'\n          });\n        }\n\n        if (result == 'degree') {\n          // Create new Degree\n          let newDegree = {\n            id: new MakeGuid().id.toString(),\n            projectCreatorID: this.userID,\n            degreeName: \"Degree Name\",\n            degreeType: 'Degree Type',\n            minors: 'List Minors',\n            institutionLogo: '',\n            institution: 'Institution Name',\n            city: \"City\",\n            state: 'State',\n            graduationYear: new Date(),\n            isGraduated: true\n          };\n          this.degreeShellStore.dispatch(new degreeShellActions.SetCurrentDegreeFromEducationCPT(newDegree));\n          this.degreeShellStore.dispatch(new degreeShellActions.SaveDegreeToDB(newDegree));\n          const dialogRef3 = this.dialog.open(EditDegreeShellComponent, {\n            panelClass: 'custom-modalbox2'\n          });\n        }\n      });\n    }\n\n  }\n\n  EducationComponent.ɵfac = function EducationComponent_Factory(t) {\n    return new (t || EducationComponent)(i0.ɵɵdirectiveInject(i1.MatDialog), i0.ɵɵdirectiveInject(i2.Store), i0.ɵɵdirectiveInject(i2.Store), i0.ɵɵdirectiveInject(i2.Store), i0.ɵɵdirectiveInject(i2.Store), i0.ɵɵdirectiveInject(i2.Store), i0.ɵɵdirectiveInject(i2.Store));\n  };\n\n  EducationComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EducationComponent,\n    selectors: [[\"app-education\"]],\n    decls: 11,\n    vars: 11,\n    consts: [[1, \"shellContainer\"], [1, \"shellContent\"], [1, \"actionButtons\"], [3, \"myClass\", \"addClassSignal\", 4, \"ngIf\"], [1, \"educationContent\"], [4, \"ngIf\"], [3, \"myClass\", \"addClassSignal\"]],\n    template: function EducationComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n        i0.ɵɵtemplate(3, EducationComponent_app_action_buttons_3_Template, 1, 1, \"app-action-buttons\", 3);\n        i0.ɵɵpipe(4, \"async\");\n        i0.ɵɵpipe(5, \"async\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"div\", 4);\n        i0.ɵɵtemplate(7, EducationComponent_app_degree_shell_7_Template, 1, 0, \"app-degree-shell\", 5);\n        i0.ɵɵpipe(8, \"async\");\n        i0.ɵɵtemplate(9, EducationComponent_app_certificatn_shell_9_Template, 1, 0, \"app-certificatn-shell\", 5);\n        i0.ɵɵpipe(10, \"async\");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(4, 3, ctx.isAuthenticated$) && ctx.userID == i0.ɵɵpipeBind1(5, 5, ctx.authenticatedUserID$));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(8, 7, ctx.degreeDataTotal$) > 0);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", i0.ɵɵpipeBind1(10, 9, ctx.certificationDataTotal$) > 0);\n      }\n    },\n    styles: [\".shellContainer[_ngcontent-%COMP%]{width:100%}.shellContainer[_ngcontent-%COMP%]   .shellContent[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;row-gap:20px;justify-content:flex-end;margin:auto}.shellContainer[_ngcontent-%COMP%]   .shellContent[_ngcontent-%COMP%]   .actionButtons[_ngcontent-%COMP%]{height:60px;width:100%;margin-left:8%}.shellContainer[_ngcontent-%COMP%]   .shellContent[_ngcontent-%COMP%]   .educationContent[_ngcontent-%COMP%]{height:1300px;display:flex;flex-direction:column;align-items:flex-end}.shellContainer[_ngcontent-%COMP%]   .shellContent[_ngcontent-%COMP%]   .educationContent[_ngcontent-%COMP%]   app-degree-shell[_ngcontent-%COMP%]{width:60%;margin-top:20px}.shellContainer[_ngcontent-%COMP%]   .shellContent[_ngcontent-%COMP%]   .educationContent[_ngcontent-%COMP%]   app-certificatn-shell[_ngcontent-%COMP%]{width:60%;margin-top:20px}@media screen and (max-width: 600){.shellContainer[_ngcontent-%COMP%]   .shellContent[_ngcontent-%COMP%]   .educationContent[_ngcontent-%COMP%]{height:1300px;display:flex;flex-direction:column;align-items:center;margin-left:15%}.shellContainer[_ngcontent-%COMP%]   .shellContent[_ngcontent-%COMP%]   .educationContent[_ngcontent-%COMP%]   app-degree-shell[_ngcontent-%COMP%]{width:50%;margin-top:20px}.shellContainer[_ngcontent-%COMP%]   .shellContent[_ngcontent-%COMP%]   .educationContent[_ngcontent-%COMP%]   app-certificatn-shell[_ngcontent-%COMP%]{width:50%;margin-top:20px}}\"]\n  });\n  return EducationComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}