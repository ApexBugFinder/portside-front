{"ast":null,"code":"import * as fromSharedState from '../../shared/state/';\nimport * as fromSharedData from '../../shared/userData/state';\nimport { defaultUserState } from '../Models/user';\nimport { select } from '@ngrx/store';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ngrx/store\";\nexport let ViewProfileComponent = /*#__PURE__*/(() => {\n  class ViewProfileComponent {\n    constructor(sharedStateStore, sharedDataStore) {\n      this.sharedStateStore = sharedStateStore;\n      this.sharedDataStore = sharedDataStore;\n      this.totalExperiences = 0;\n      this.userToView = JSON.parse(JSON.stringify(defaultUserState));\n      this.userID$ = this.sharedStateStore.pipe(select(fromSharedState.getUserId));\n      this.userData$ = this.sharedDataStore.pipe(select(fromSharedData.selectAllUsers));\n    }\n\n    ngOnInit() {\n      this.userID$.subscribe({\n        next: usrId => {\n          if (usrId) {\n            this.userData$.subscribe({\n              next: users => {\n                if (users) {\n                  let found = users.filter(i => (i === null || i === void 0 ? void 0 : i.id) === usrId)[0];\n\n                  if (found) {\n                    this.userToView = JSON.parse(JSON.stringify(found));\n                    this.calculateExperiences();\n                  }\n                }\n              },\n              error: err => console.log(\"OOps sorry, error occured getting a User's Data from the SharedData store View Profile component: \", err),\n              complete: () => console.log(\"Completed getting a User's Information from the shared data store View Profile component\")\n            });\n          }\n        },\n        error: err => console.log(\"OOps sorry, error occured getting a User's ID from the Shared store View Profile component: \"),\n        complete: () => console.log(\"Completed getting a User's Information from the shared data store View Profile component\")\n      });\n    }\n\n    calculateExperiences() {\n      this.userToView.experiences.forEach(i => {\n        var _a, _b;\n\n        let diff = ((_a = i.completed) === null || _a === void 0 ? void 0 : _a.getDate()) - ((_b = i.started) === null || _b === void 0 ? void 0 : _b.getDate());\n        this.totalExperiences += diff / (1000 * 60 * 60 * 24 * 365);\n      });\n      return this.totalExperiences;\n    }\n\n  }\n\n  ViewProfileComponent.ɵfac = function ViewProfileComponent_Factory(t) {\n    return new (t || ViewProfileComponent)(i0.ɵɵdirectiveInject(i1.Store), i0.ɵɵdirectiveInject(i1.Store));\n  };\n\n  ViewProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ViewProfileComponent,\n    selectors: [[\"app-view-profile\"]],\n    decls: 19,\n    vars: 3,\n    consts: [[1, \"divContainer\"], [1, \"infoContainer\", \"firstInfo\"], [1, \"infoShell\"], [1, \"infoContainer\"]],\n    template: function ViewProfileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h3\");\n        i0.ɵɵtext(4, \"Username:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"p\");\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(7, \"div\", 3)(8, \"div\", 2)(9, \"h3\");\n        i0.ɵɵtext(10, \"Projects:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"p\");\n        i0.ɵɵtext(12);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(13, \"div\", 3)(14, \"div\", 2)(15, \"h3\");\n        i0.ɵɵtext(16, \"Experiences:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"p\");\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.userToView.username);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate(ctx.userToView.projects.length);\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\"\", ctx.totalExperiences, \" years\");\n      }\n    },\n    styles: [\".divContainer[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:10px;min-height:60px}.infoContainer[_ngcontent-%COMP%]{width:85%;margin:auto;min-height:50px}.infoContainer[_ngcontent-%COMP%]   .infoShell[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:row;column-gap:30px;align-items:center;margin:10px 0}.infoContainer[_ngcontent-%COMP%]   .infoShell[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:0}.infoContainer[_ngcontent-%COMP%]   .infoShell[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .infoContainer[_ngcontent-%COMP%]   .infoShell[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-family:futura-pt;margin:0}.infoContainer.firstInfo[_ngcontent-%COMP%]{margin-top:20px}\"]\n  });\n  return ViewProfileComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}